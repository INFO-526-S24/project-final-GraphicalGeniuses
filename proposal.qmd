---
title: "The Timeless Rivalry: Ronaldo vs Messi"
subtitle: "An investigation tracking Messi and Ronaldo's performance trends"
author: 
  - name: "Usama Ahmed, Narasimha Vardhan Rachaputi, Pradnya Raut, Mobolaji Adewale, Praveen Kumar Pappala, Tushar Kant Singh"
    affiliations:
      - name: "School of Information, University of Arizona"
description: "Proposal for The Timeless Rivalry"
format:
  html:
    code-tools: true
    code-overflow: wrap
    code-line-numbers: true
    embed-resources: true
    code-fold: true
editor: visual
code-annotations: hover
execute:
  warning: false
---

```{r}
#| label: load-pkgs
#| message: false
library(tidyverse)
if(!require("pacman"))
  install.packages("pacman")

pacman::p_load(tidyverse, gt)


#Ronaldo dataset downloaded from https://www.kaggle.com/datasets/azminetoushikwasi/cr7-cristiano-ronaldo-all-club-goals-stats
ronaldo <- read_csv("data/cr7.csv")


#Messi dataset downloaded from https://www.kaggle.com/code/azminetoushikwasi/lionel-messi-extended-eda-goals/input?select=messi.csv
messi <- read_csv("data/messi.csv")
```

#### Our High Level Goal

To compare and contrast the performances of Cristiano Ronaldo and Lionel Messi, only, over time and space (season / country respectively), primarily via geographical plots

::: {style="display: flex; margin-left: auto; margin-right: auto;"}
![Cristiano Ronaldo](data/Ronaldo_Img.jpg){style="flex: 49%; float: left; padding-right: 10%;" width="231"}

![Lionel Messi](data/Messi_Img.jpg){fig-align="" style="flex: 49%;  float: right;" width="307"}
:::

#### First Topic

The first aim is to craft an animation detailing the number of goals scored by both Ronaldo and Messi, plotted geographically over time. The plan is firstly to isolate the unique competitions the two players have participated in; gather the countries in which said competitions are hosted and then; display said countries and how they changed over seasons. The data of focus will be the competitions, a new variable detailing the year in which their goals were scored and a new variable detailing the region in which that competition took place. The time-frame will be from 2005 to 2022.

#### Second Topic

The second target is to create an interactive map, giving details about a summary of the goals scored in each country by Ronaldo and Messi. It will allow for comparison and contrasting per country between the two players. A focus will be on highlighting the comparison between the number of goals scored by the two players in an individual region. The variables of focus will be a seasonal sum of the goals scored per regions. The time-frame will also be from 2005 to 2022.

#### The Data

The dataset appears to contain information related to football matches, likely from a specific club or league. Here's a breakdown of the columns:

1.  **Season**: Indicates the season of the competition in which the match took place.
2.  **Competition**: Specifies the name or type of the competition (e.g., league, cup).
3.  **Matchday**: Indicates the matchday number within the competition.
4.  **Date**: Represents the date on which the match was played.
5.  **Venue**: Specifies the location where the match was held.
6.  **Club**: Refers to the name of the football club involved in the match.
7.  **Opponent**: Refers to the opposing team.
8.  **Result**: Indicates the outcome of the match, usually in terms of goals scored by each team.
9.  **Playing_Position**: Specifies the position played by the player.
10. **Minute**: Indicates the minute in which a particular event occurred (e.g., goal, substitution).
11. **At_score**: Represents the score at the time of the event.
12. **Type**: Describes the type of event (e.g., goal, assist).
13. **Goal_assist**: Indicates the player who assisted in scoring the goal.

Concurrently, here's the table with only the datatype and a brief description of each column:

| Column Name      | Datatype  | Description                                 |
|------------------|-----------|---------------------------------------------|
| Season           | Character | Season of the competition                   |
| Competition      | Character | Type of the competition                     |
| Matchday         | Character | Matchday number within the competition      |
| Date             | Date      | Date of the match                           |
| Venue            | Character | Location where the match was held           |
| Club             | Character | Name of the football club                   |
| Opponent         | Character | Name of the opposing team                   |
| Result           | Character | Outcome of the match                        |
| Playing_Position | Character | Position played by the player               |
| Minute           | Integer   | Minute in which a particular event occurred |
| At_score         | Character | Score at the time of the event              |
| Type             | Character | Type of event                               |
| Goal_assist      | Character | Player who assisted in scoring the goal     |

The new variable Year will be converted to a datetime object; Minute will be converted to Integer; Season will be converted to PosixCT

No-Assist NAs will be replaced with "No Assists"

#### The Datasets

```{r}
ronaldoTop <- head(ronaldo)
messiTop <- head(messi)


ronaldoTop %>%gt() %>%
tab_header(title = "Cristiano Ronaldo") %>%
  
tab_style(
  style = list(cell_fill(color = "#fff0ef"),
  cell_text(weight = "bold")),
locations = cells_body(columns = Competition)) %>% 
  
tab_style(
  style = cell_text(weight = "bold"),
  locations = cells_column_labels()
)



messiTop %>%gt() %>%
tab_header(title = "Lionel Messi") %>%
  
tab_style(
  style = list(cell_fill(color = "#b2f7ef"),
  cell_text(weight = "bold")),
locations = cells_body(columns = Competition)) %>% 
  
tab_style(
  style = cell_text(weight = "bold"),
  locations = cells_column_labels()
)

```

#### Our Weekly Plan

| Task Name                  | Status  | Assignee | Due      | Priority | Summary                                          |
|------------|------------|------------|------------|------------|------------|
| Create the proposal        | Pending |          | 03 April | High     | Create the initial documented proposal           |
| Create the Git Repo        | Pending |          | 03 April | Moderate | Create a new repository for data                 |
| Resubmit proposal          | Pending |          | 08 April | High     | Resubmit revised proposal                        |
| Data wrangling             | Pending |          | 08 April | Moderate | Initial exploration and cleaning of the datasets |
| Analysis of topic one      | Pending |          | 15 April | Moderate |                                                  |
| Analysis of topic two      | Pending |          | 22 April | Low      |                                                  |
| Plotting for topic one     | Pending |          | 29 April | Low      |                                                  |
| Plotting for topic two     | Pending |          | 29 April | Low      |                                                  |
| Summarising of information | Pending |          | 01 May   | Low      |                                                  |
| Write up                   | Pending |          | 06 May   | Low      |                                                  |
| Presentation               | Pending |          | 06 May   | Low      |                                                  |
| Final organisation         | Pending |          | 06 May   | Low      |                                                  |
| Site publishing            | Pending |          | 06 May   | Low      |                                                  |
| Final submission           | Pending |          | 06 May   | Low      | Final submission of the entire repository        |
